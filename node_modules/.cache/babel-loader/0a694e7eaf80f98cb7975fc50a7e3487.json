{"ast":null,"code":"import _regeneratorRuntime from \"E:\\\\Trabalho\\\\Testes Emprego\\\\frontend-exercise\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\nimport _asyncToGenerator from \"E:\\\\Trabalho\\\\Testes Emprego\\\\frontend-exercise\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";\nimport { stringIsFilled } from '../helpers/tools';\nvar API_ROOT = 'https://api.sketchfab.com/v3';\nvar AUTHORIZATION = 'Token 345e7ba8e00146f4882abe3af6a9f5e8';\nexport function myModels() {\n  return _myModels.apply(this, arguments);\n}\n\nfunction _myModels() {\n  _myModels = _asyncToGenerator(\n  /*#__PURE__*/\n  _regeneratorRuntime.mark(function _callee() {\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return fetchAPI('/me/models', '');\n\n          case 2:\n            return _context.abrupt(\"return\", _context.sent);\n\n          case 3:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n  return _myModels.apply(this, arguments);\n}\n\n;\nexport function myFavoriteModels() {\n  return _myFavoriteModels.apply(this, arguments);\n}\n\nfunction _myFavoriteModels() {\n  _myFavoriteModels = _asyncToGenerator(\n  /*#__PURE__*/\n  _regeneratorRuntime.mark(function _callee2() {\n    return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            _context2.next = 2;\n            return fetchAPI('/me/likes ', '');\n\n          case 2:\n            return _context2.abrupt(\"return\", _context2.sent);\n\n          case 3:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2);\n  }));\n  return _myFavoriteModels.apply(this, arguments);\n}\n\n;\nexport function searchAllModels(_x) {\n  return _searchAllModels.apply(this, arguments);\n}\n\nfunction _searchAllModels() {\n  _searchAllModels = _asyncToGenerator(\n  /*#__PURE__*/\n  _regeneratorRuntime.mark(function _callee3(query) {\n    return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            if (!stringIsFilled(query)) {\n              _context3.next = 6;\n              break;\n            }\n\n            _context3.next = 3;\n            return fetchAPI('/search?type=models&', \"q=\".concat(query));\n\n          case 3:\n            return _context3.abrupt(\"return\", _context3.sent);\n\n          case 6:\n            _context3.next = 8;\n            return fetchAPI('/search?type=models&', '');\n\n          case 8:\n            return _context3.abrupt(\"return\", _context3.sent);\n\n          case 9:\n          case \"end\":\n            return _context3.stop();\n        }\n      }\n    }, _callee3);\n  }));\n  return _searchAllModels.apply(this, arguments);\n}\n\n;\nexport function fetchNewPage(_x2) {\n  return _fetchNewPage.apply(this, arguments);\n}\n\nfunction _fetchNewPage() {\n  _fetchNewPage = _asyncToGenerator(\n  /*#__PURE__*/\n  _regeneratorRuntime.mark(function _callee4(url) {\n    return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n      while (1) {\n        switch (_context4.prev = _context4.next) {\n          case 0:\n            _context4.prev = 0;\n            _context4.next = 3;\n            return fetch(url, {\n              headers: {\n                'Content-Type': 'application/json',\n                'Authorization': AUTHORIZATION\n              }\n            }).then(function (res) {\n              return res.json();\n            });\n\n          case 3:\n            return _context4.abrupt(\"return\", _context4.sent);\n\n          case 6:\n            _context4.prev = 6;\n            _context4.t0 = _context4[\"catch\"](0);\n            console.log(_context4.t0);\n\n          case 9:\n          case \"end\":\n            return _context4.stop();\n        }\n      }\n    }, _callee4, null, [[0, 6]]);\n  }));\n  return _fetchNewPage.apply(this, arguments);\n}\n\nfunction fetchAPI(_x3, _x4) {\n  return _fetchAPI.apply(this, arguments);\n}\n\nfunction _fetchAPI() {\n  _fetchAPI = _asyncToGenerator(\n  /*#__PURE__*/\n  _regeneratorRuntime.mark(function _callee5(api, params) {\n    return _regeneratorRuntime.wrap(function _callee5$(_context5) {\n      while (1) {\n        switch (_context5.prev = _context5.next) {\n          case 0:\n            _context5.prev = 0;\n            _context5.next = 3;\n            return fetch(API_ROOT + api + params, {\n              headers: {\n                'Content-Type': 'application/json',\n                'Authorization': AUTHORIZATION\n              }\n            }).then(function (res) {\n              return res.json();\n            });\n\n          case 3:\n            return _context5.abrupt(\"return\", _context5.sent);\n\n          case 6:\n            _context5.prev = 6;\n            _context5.t0 = _context5[\"catch\"](0);\n            console.log(_context5.t0);\n\n          case 9:\n          case \"end\":\n            return _context5.stop();\n        }\n      }\n    }, _callee5, null, [[0, 6]]);\n  }));\n  return _fetchAPI.apply(this, arguments);\n}\n\n;","map":{"version":3,"sources":["E:\\Trabalho\\Testes Emprego\\frontend-exercise\\src\\services\\apiService.js"],"names":["stringIsFilled","API_ROOT","AUTHORIZATION","myModels","fetchAPI","myFavoriteModels","searchAllModels","query","fetchNewPage","url","fetch","headers","then","res","json","console","log","api","params"],"mappings":";;AAAA,SAASA,cAAT,QAA+B,kBAA/B;AAEA,IAAMC,QAAQ,GAAG,8BAAjB;AACA,IAAMC,aAAa,GAAG,wCAAtB;AAEA,gBAAsBC,QAAtB;AAAA;AAAA;;;;;2BAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBACUC,QAAQ,CACjB,YADiB,EAEjB,EAFiB,CADlB;;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,G;;;;AAKN;AAED,gBAAsBC,gBAAtB;AAAA;AAAA;;;;;2BAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBACUD,QAAQ,CACjB,YADiB,EAEjB,EAFiB,CADlB;;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,G;;;;AAKN;AAED,gBAAsBE,eAAtB;AAAA;AAAA;;;;;2BAAO,kBAA+BC,KAA/B;AAAA;AAAA;AAAA;AAAA;AAAA,iBACCP,cAAc,CAACO,KAAD,CADf;AAAA;AAAA;AAAA;;AAAA;AAAA,mBAEcH,QAAQ,CACjB,sBADiB,cAEZG,KAFY,EAFtB;;AAAA;AAAA;;AAAA;AAAA;AAAA,mBAOcH,QAAQ,CACjB,sBADiB,EAEjB,EAFiB,CAPtB;;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,G;;;;AAYN;AAED,gBAAsBI,YAAtB;AAAA;AAAA;;;;;2BAAO,kBAA4BC,GAA5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAEcC,KAAK,CACdD,GADc,EAEd;AACIE,cAAAA,OAAO,EAAE;AACL,gCAAgB,kBADX;AAEL,iCAAiBT;AAFZ;AADb,aAFc,CAAL,CAQXU,IARW,CAQN,UAAAC,GAAG;AAAA,qBAAIA,GAAG,CAACC,IAAJ,EAAJ;AAAA,aARG,CAFd;;AAAA;AAAA;;AAAA;AAAA;AAAA;AAYCC,YAAAA,OAAO,CAACC,GAAR;;AAZD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,G;;;;SAgBQZ,Q;;;;;;;2BAAf,kBAAwBa,GAAxB,EAA6BC,MAA7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAEoBR,KAAK,CACbT,QAAQ,GAAGgB,GAAX,GAAiBC,MADJ,EAEb;AACIP,cAAAA,OAAO,EAAE;AACL,gCAAgB,kBADX;AAEL,iCAAiBT;AAFZ;AADb,aAFa,CAAL,CAQXU,IARW,CAQN,UAAAC,GAAG;AAAA,qBAAIA,GAAG,CAACC,IAAJ,EAAJ;AAAA,aARG,CAFpB;;AAAA;AAAA;;AAAA;AAAA;AAAA;AAYQC,YAAAA,OAAO,CAACC,GAAR;;AAZR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,G;;;;AAeC","sourcesContent":["import { stringIsFilled } from '../helpers/tools'\r\n\r\nconst API_ROOT = 'https://api.sketchfab.com/v3';\r\nconst AUTHORIZATION = 'Token 345e7ba8e00146f4882abe3af6a9f5e8';\r\n\r\nexport async function myModels() {\r\n    return await fetchAPI(\r\n        '/me/models',\r\n        ''\r\n    );\r\n};\r\n\r\nexport async function myFavoriteModels() {\r\n    return await fetchAPI(\r\n        '/me/likes ',\r\n        ''\r\n    );\r\n};\r\n\r\nexport async function searchAllModels(query) {\r\n    if (stringIsFilled(query)) {\r\n        return await fetchAPI(\r\n            '/search?type=models&',\r\n            `q=${query}`\r\n        );\r\n    } else {\r\n        return await fetchAPI(\r\n            '/search?type=models&',\r\n            ''\r\n        );\r\n    }\r\n};\r\n\r\nexport async function fetchNewPage(url) {\r\n    try {\r\n        return await fetch(\r\n            url,\r\n            {\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                    'Authorization': AUTHORIZATION\r\n                }\r\n            }\r\n        ).then(res => res.json());\r\n    } catch (e) {\r\n        console.log(e);\r\n    }\r\n}\r\n\r\nasync function fetchAPI(api, params) {\r\n    try {\r\n       return await fetch(\r\n            API_ROOT + api + params,\r\n            {\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                    'Authorization': AUTHORIZATION\r\n                }\r\n            }\r\n       ).then(res => res.json());\r\n    } catch (e) {\r\n        console.log(e);\r\n    }\r\n\r\n};\r\n"]},"metadata":{},"sourceType":"module"}